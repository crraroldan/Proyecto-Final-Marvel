<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link href="../articles/css/style-User.css" rel="stylesheet" />
  </head>
  <body>
    <header>
      <div class="flex-container0"><center><h3>Usuario</h3></center></div>

      <div class="flex-container0">
        <nav>
          <ul>
            <li><center><a href="#">Cerrar seccion</a></center></li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="row">
      <aside>


        <div class="flex-container01">
          <nav>
            <ul>
              <li><center><a href="#">Volver</a></li></center>
            </ul>
          </nav>
        </div>


      

        <div class="flex-container">

          <div class="User1">
            <center><img src="img/usuario.jpg" height="300" width="300"></center>
          </div>

          <div class="User2">

            <input type="checkbox" id="1">
            <label for="1">
              <span>Administrador</span>
             
            </label>



          </div>

        </div>
      </aside>


      <section>
        <h2>USUARIO</h2> 

       

        <div class="flex-container">

                <div class="seccion1"style="order: 1">id:07</div>
                <div class="seccion1"style="order: 2">Rubin Satin</div>
                <div class="seccion1"style="order: 3">RubinSatin@gmail</div>
                <div class="seccion1"style="order: 4"><h4>Cambiar contraseña</h4></div>
                
                <form name="seccion1"  action="" method="POST"  style="order: 5"   onsubmit='return validatePassword()'>

                  <div class="seccion1"style="order: 6"> <div>Password Actual: <input type="password" name="passwordActual"></div></div>
                  <div class="seccion1"style="order: 7"> <div>Nuevo Password: <input type="password" name="passwordNew1"></div></div>
                  <div class="seccion1"style="order: 8"> <div>Repite Password: <input type="password" name="passwordNew2"></div></div>
                  <div class="seccion1"style="order: 9"> <div><input type="submit" value="Modificar Password"></div></div>
                
                
                
                </form>
                
        </div>
      </section>
    </div>

    <section>
      

      <div class="flex-container">

        <div>Favoritos</div>

        <div id="div1">
          <table border="1">
            <tr>
              <td>Rubin Satin</td>
            </tr>
            <tr>
              <td>Chapulin-colorado_500</td>
            </tr>
            <tr>
              <td>Tupac_pacanaca700003</td>
            </tr>
            <tr>
              <td>Oliiver Truan 23</td>
            </tr>
            <tr>
              <td>Excaletrixmunition</td>
            </tr>
            <tr>
              <td>Loquendo70034</td>
            </tr>
            <tr>
              <td>Car-jhonson-cj</td>
            </tr>
            <tr>
              <td>Cassandra-santillana</td>
            </tr>
            <tr>
              <td>Luisito-El rey Palomo</td>
            </tr>
            <tr>
              <td>Chalino_cuernodechivo</td>
            </tr>
            <tr>
              <td>El_Nando-chumbo</td>
            </tr>
            <tr>
              <td>Maxpower</td>
            </tr>
            <tr>
              <td>Homero-viajero34</td>
            </tr>
            <tr>
              <td>Pelado-malvado_1</td>
            </tr>
            <tr>
              <td>Raquel-villavicencio</td>
            </tr>
            <tr>
              <td>Elfresa3454</td>
            </tr>
            <tr>
              <td>El Tracaloso</td>
            </tr>
        
          </table>
        </div>
      </div>
    </section>

    <footer>

      <div class="flex-container100">

        <div class="flex-container22"><center><h3>
          <nav>
            <ul>
              <li><a href="#">EDITAR</a></li>
            </ul>
          </nav>
        </h3></center></div>

        <div class="flex-container22"><center><h3>
          <nav>
            <ul>
              <li><a href="#">GUARDAR CAMBIOS</a></li>
            </ul>
          </nav>
        </h3></center></div>

        <div class="flex-container22"><center><h3>
          <nav>
            <ul>
              <li><a href="#">BORRAR ENTRAR</a></li>
            </ul>
          </nav>
        </h3></center></div>






      </div>

               

    </footer>



    <title>Validar Contraseña</title>
        <meta charset="utf-8">
     
        <style>
        .error {color:red;}
        form {width:400px;font-family:Arial;}
        form input {font-family:Arial;}
        form>div {margin:5px;}
        form>div:last-child {text-align:center;margin-top:10px;}
        </style>
     
        <script>
        /**
         * Function que inserta un error por encima del elemento recibido
         * @param element -> texto que haga referencia al elemento
         * @param error -> texto del error
         */
        const showError = (element, error) => {
            const errorEl=document.createElement("div");
            errorEl.setAttribute("class","error");
            errorEl.innerHTML=error;
            document.querySelector(element).parentElement.prepend(errorEl);
        }
     
        const validatePassword = () => {
            //Cogemos los valores actuales del formulario
            const pasActual=document.seccion1.passwordActual.value;
            const pasNew1=document.seccion1.passwordNew1.value;
            const pasNew2=document.seccion1.passwordNew2.value;
     
            //Patron para los numeros
            const patron1=new RegExp("[0-9]+");
            //Patron para las letras
            const patron2=new RegExp("[a-zA-Z]+");
     
            // Eliminamos los posible errores
            for (let el of document.querySelectorAll("div[class=error]")) {
                el.remove();
            }
     
            if (pasNew1!=pasNew2 || pasNew1.length<6 || pasActual=="" || pasNew1.search(patron1)<0 || pasNew1.search(patron2)<0) {
                if (pasActual=="") {
                    showError("input[name=passwordActual]", "Indicar tu contraseña actual");
                }
                if (pasNew1.length<6) {
                    showError("input[name=passwordNew1]", "La longitud mínima tiene que ser de 6 caracteres");
                } else if (pasNew1!=pasNew2) {
                    showError("input[name=passwordNew1]", "La copia de la nueva contraseña no coincide");
                } else if (pasNew1.search(patron1)<0 || pasNew1.search(patron2)<0) {
                    showError("input[name=passwordNew1]", "La contraseña tiene que tener numeros y letras");
                }
                return false;
            }
            return true;
        }
        </script>
    </head>













  </body>
</html>
